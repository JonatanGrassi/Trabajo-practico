//created on: 15/04/2022
package RulesMontaniaRusa

//list any import classes here.
import conceptos.MontaniaRusa
import conceptos.Clima
import conceptos.DiagnosticoOperatividad
import conceptos.DiagnosticoElectromecanico
import conceptos.DiagnosticoMecanico
import conceptos.DiagnosticoElectrico
import atributos.ResultadoFinalDiagnosticoElectrico
import atributos.ResultadoAnalisisClimatico
import atributos.ResultadoFinalDiagnosticoElectromecanico
import atributos.ResultadoFinalDiagnosticoMecanico
import atributos.IntegridadFrenos

//declare any global variables here

rule "R01 - Rafaga Clima Desfavorable"
    when
        $atraccion: MontaniaRusa(clima.intensidadRafagas > 70,
        	resultadoFinal.analisisClimatico.resultadoAnalisis.compare(ResultadoAnalisisClimatico.NoDeterminado) 
        )
    then 
    	modify($atraccion){
       		resultadoFinal.analisisClimatico.setResultadoAnalisis(ResultadoAnalisisClimatico.ClimaDesfavorable);
		}
end

rule "R02 - Precipitaciones Clima Desfavorable"
    when
        $atraccion: MontaniaRusa(
    		clima.intensidadPrecipitaciones > 10,
        	resultadoFinal.analisisClimatico.resultadoAnalisis.compare(ResultadoAnalisisClimatico.NoDeterminado) 
        )
    then
    	modify($atraccion){
       		resultadoFinal.analisisClimatico.setResultadoAnalisis(ResultadoAnalisisClimatico.ClimaDesfavorable); 
		}
end

rule "R03 - Clima Favorable"
    when
        $atraccion: MontaniaRusa(
    		clima.intensidadPrecipitaciones <= 10,
    		clima.intensidadRafagas <= 70,
        	resultadoFinal.analisisClimatico.resultadoAnalisis.compare(ResultadoAnalisisClimatico.NoDeterminado)
        )
    then
    	modify($atraccion){
       		resultadoFinal.analisisClimatico.setResultadoAnalisis(ResultadoAnalisisClimatico.ClimaFavorable); 
		}
end

rule "R04 - Falla Frenos Pastillas"
    when
        $atraccion: MontaniaRusa(
        	frenos.espesorPastillas < 4,
        	resultadoFinal.diagnosticoElectromecanico.diagnosticoMecanico.integridadFrenos.compare(IntegridadFrenos.NoDeterminado)
        )
    then
   		modify($atraccion){
       		consideracion.diagnosticoElectromecanico.diagnosticoMecanico.setIntegridadFrenos(IntegridadFrenos.FallaFrenosFriccion); 
		}	
end


rule "R05 - Falla Frenos imanes"
    when
        $atraccion: MontaniaRusa(
    		frenos.potenciaImanes < 14200,
        	resultadoFinal.diagnosticoElectromecanico.diagnosticoMecanico.integridadFrenos.compare(IntegridadFrenos.NoDeterminado)
        )
    then
    	modify($atraccion){
       		resultadoFinal.diagnosticoElectromecanico.diagnosticoMecanico.setIntegridadFrenos(IntegridadFrenos.FallaFrenosMagneticos); 
		}
end

rule "R06 - Falla Frenos imanes"
    when
        $atraccion: MontaniaRusa(
    		frenos.potenciaImanes < 14200,
        	resultadoFinal.diagnosticoElectromecanico.diagnosticoMecanico.integridadFrenos.compare(IntegridadFrenos.NoDeterminado)
        )
    then
    	modify($atraccion){
       		resultadoFinal.diagnosticoElectromecanico.diagnosticoMecanico.setIntegridadFrenos(IntegridadFrenos.FallaFrenosMagneticos); 
		}
end

